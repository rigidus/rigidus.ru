<!DOCTYPE html>
<html>
<head>
<title>Изучи программирование за 21 год</title>
<meta  charset="utf-8">
<meta  name="generator" content="Org-mode">
<meta  name="author" content="rigidus">
<link href="/css/style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="content">
<h1 class="title">Изучи программирование за 21 год</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#unnumbered-1">Интро</a></li>
<li><a href="#unnumbered-2">Прикосновение к магии</a>
<ul>
<li><a href="#unnumbered-3">Hello World</a></li>
<li><a href="#unnumbered-4">Транслятор кода Морзе</a></li>
<li><a href="#unnumbered-5">HTML и CSS</a></li>
</ul>
</li>
<li><a href="#unnumbered-6">Создание игры на Java</a></li>
<li><a href="#unnumbered-7">Низкоуровневое программирование</a>
<ul>
<li><a href="#unnumbered-8">Стек и вызов процедур</a>
<ul>
<li><a href="#unnumbered-9">Пролог и эпилог функции</a></li>
</ul>
</li>
<li><a href="#unnumbered-10">Указатели</a>
<ul>
<li><a href="#unnumbered-11">Транслятор кода Морзе на Ассемблере</a></li>
<li><a href="#unnumbered-14">Эквивалентность программ</a></li>
</ul>
</li>
<li><a href="#unnumbered-15">Взамодействие с операционной системой</a></li>
<li><a href="#unnumbered-16">Ввод-вывод</a>
<ul>
<li><a href="#unnumbered-17">Интепретатор команд</a></li>
</ul>
</li>
<li><a href="#unnumbered-18">Обработка прерываний</a></li>
<li><a href="#unnumbered-19">Оверлеи</a></li>
<li><a href="#unnumbered-20">Разделяемые библиотеки</a></li>
<li><a href="#unnumbered-21">Компоновка</a></li>
<li><a href="#unnumbered-22">Системы сборки</a></li>
<li><a href="#unnumbered-23">Зависимости</a></li>
</ul>
</li>
<li><a href="#unnumbered-24">Обратная инженерия</a>
<ul>
<li><a href="#unnumbered-25">Дизассемблирование</a></li>
<li><a href="#unnumbered-26">Взлом нашего интепретатора команд</a></li>
<li><a href="#unnumbered-27">Детектирование отладчика</a></li>
<li><a href="#unnumbered-28">Инструментирование кода</a></li>
<li><a href="#unnumbered-29">Перехват вызовов</a></li>
<li><a href="#unnumbered-30">Инструменты анализа систем</a>
<ul>
<li><a href="#unnumbered-31">ESIL</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#unnumbered-32">Построение высокоуровнего языка</a>
<ul>
<li><a href="#unnumbered-33">Минимальный Forth</a></li>
<li><a href="#unnumbered-34">Объектная система</a></li>
<li><a href="#unnumbered-35">Сборка мусора</a></li>
<li><a href="#unnumbered-36">Выращиваем Lisp</a></li>
<li><a href="#unnumbered-37">Построение отладчика-эмулятора</a></li>
<li><a href="#unnumbered-38">Построение трассировщика</a></li>
<li><a href="#unnumbered-39">Декомпиляция и автоматический анализ</a></li>
<li><a href="#unnumbered-40">Суперкомпиляция</a></li>
</ul>
</li>
<li><a href="#unnumbered-41">Типизация</a>
<ul>
<li><a href="#unnumbered-42">Сильная/слабая</a></li>
<li><a href="#unnumbered-43">Строгая/нестрогая</a></li>
<li><a href="#unnumbered-44">Вывод типов</a></li>
</ul>
</li>
<li><a href="#unnumbered-45">Императивные парадигмы</a>
<ul>
<li><a href="#unnumbered-46">Процедурная</a></li>
<li><a href="#unnumbered-47">модульная</a></li>
<li><a href="#unnumbered-48">объектно-ориентированная</a></li>
</ul>
</li>
<li><a href="#unnumbered-49">Механизмы абстракции</a>
<ul>
<li><a href="#unnumbered-50">Кольцевой буфер</a></li>
<li><a href="#unnumbered-51">Потоки</a></li>
<li><a href="#unnumbered-52">Очереди сообщений</a></li>
<li><a href="#unnumbered-53">Машины состояний</a></li>
<li><a href="#unnumbered-54">Модель взаимодействующих акторов</a></li>
<li><a href="#unnumbered-55">Сигналы</a></li>
</ul>
</li>
<li><a href="#unnumbered-56">Функциональное программирование</a>
<ul>
<li><a href="#unnumbered-57">Код как данные</a></li>
<li><a href="#unnumbered-58">Рекурсия</a></li>
<li><a href="#unnumbered-59">Функции высшего порядка</a></li>
<li><a href="#unnumbered-60">Чистота</a></li>
<li><a href="#unnumbered-61">Ленивость.</a></li>
<li><a href="#unnumbered-62">Реактивность</a></li>
</ul>
</li>
<li><a href="#unnumbered-63">Рантайм</a>
<ul>
<li><a href="#unnumbered-64">Менеджер памяти и умные указатели</a></li>
<li><a href="#unnumbered-65">Сборка мусора</a></li>
<li><a href="#unnumbered-66">Зеленые потоки</a></li>
<li><a href="#unnumbered-67">Супервайзинг</a></li>
</ul>
</li>
<li><a href="#unnumbered-68">Логическое программирование</a></li>
<li><a href="#unnumbered-69">Пролог</a></li>
<li><a href="#unnumbered-70">Рефал</a></li>
<li><a href="#unnumbered-71">Forth</a></li>
<li><a href="#unnumbered-72">Визуальное программирование</a>
<ul>
<li><a href="#unnumbered-73">Дракон</a></li>
</ul>
</li>
<li><a href="#unnumbered-74">Написание языков и виртуальных машин</a>
<ul>
<li><a href="#unnumbered-75">Создание компилятора</a></li>
<li><a href="#unnumbered-76">Написание среды времени выполнения</a></li>
</ul>
</li>
<li><a href="#unnumbered-77">Распределенные системы</a>
<ul>
<li><a href="#unnumbered-78">Топология сетей</a></li>
</ul>
</li>
<li><a href="#unnumbered-79">Самообучающиеся системы</a>
<ul>
<li><a href="#unnumbered-80">Линейная регрессия</a></li>
<li><a href="#unnumbered-81">Кластеризация</a></li>
<li><a href="#unnumbered-82">Деревья решений</a></li>
<li><a href="#unnumbered-83">Нейронные сети и их обучение</a></li>
<li><a href="#unnumbered-84">Динамическое программирование</a></li>
<li><a href="#unnumbered-85">Генетическое программирование</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-unnumbered-1" class="outline-2">
<h2 id="unnumbered-1">Интро</h2>
<div class="outline-text-2" id="text-unnumbered-1">
<p>
Этот курс задуман как несколько более фундаментальный, чем обычно предлагаемые курсы,
так что у него даже есть неофициальное название "Изучи программирование за 21 год".
</p>

<p>
Материалы и план курса сформированы но уточняются и дополняются. Ожидается, что курс
будет рассматривать все вопросы программирования от архитектуры низкоуровневых средств
до абстракций лямбда-исчисления.
</p>
</div>
</div>

<div id="outline-container-unnumbered-2" class="outline-2">
<h2 id="unnumbered-2">Прикосновение к магии</h2>
<div class="outline-text-2" id="text-unnumbered-2">
</div><div id="outline-container-unnumbered-3" class="outline-3">
<h3 id="unnumbered-3">Hello World</h3>
</div>
<div id="outline-container-unnumbered-4" class="outline-3">
<h3 id="unnumbered-4">Транслятор кода Морзе</h3>
<div class="outline-text-3" id="text-unnumbered-4">
<p>
Первая осмысленная программа в процедурном стиле.
</p>

<div class="org-src-container">

<pre class="src src-js"><span style="color: #00ffff;">var</span> <span style="color: #eedd82;">array</span> =[
  [<span style="color: #ffa07a;">'a'</span>,<span style="color: #ffa07a;">'._'</span>],
  [<span style="color: #ffa07a;">'b'</span>,<span style="color: #ffa07a;">'1'</span>],
  [<span style="color: #ffa07a;">'c'</span>,<span style="color: #ffa07a;">'2'</span>],
  [<span style="color: #ffa07a;">'d'</span>,<span style="color: #ffa07a;">'3'</span>],
  [<span style="color: #ffa07a;">'e'</span>,<span style="color: #ffa07a;">'4'</span>],
  [<span style="color: #ffa07a;">'f'</span>,<span style="color: #ffa07a;">'5'</span>],
  [<span style="color: #ffa07a;">'g'</span>,<span style="color: #ffa07a;">'6'</span>],
  [<span style="color: #ffa07a;">'h'</span>,<span style="color: #ffa07a;">'7'</span>],
  [<span style="color: #ffa07a;">'i'</span>,<span style="color: #ffa07a;">'8'</span>],
  [<span style="color: #ffa07a;">'j'</span>,<span style="color: #ffa07a;">'9'</span>],
  [<span style="color: #ffa07a;">'k'</span>,<span style="color: #ffa07a;">'a'</span>],
  [<span style="color: #ffa07a;">'l'</span>,<span style="color: #ffa07a;">'b'</span>],
  [<span style="color: #ffa07a;">'m'</span>,<span style="color: #ffa07a;">'__'</span>],
  [<span style="color: #ffa07a;">'n'</span>,<span style="color: #ffa07a;">'_.'</span>],
  [<span style="color: #ffa07a;">'o'</span>,<span style="color: #ffa07a;">'d'</span>],
  [<span style="color: #ffa07a;">'p'</span>,<span style="color: #ffa07a;">'e'</span>],
  [<span style="color: #ffa07a;">'q'</span>,<span style="color: #ffa07a;">'f'</span>],
  [<span style="color: #ffa07a;">'r'</span>,<span style="color: #ffa07a;">'g'</span>],
  [<span style="color: #ffa07a;">'s'</span>,<span style="color: #ffa07a;">'h'</span>],
  [<span style="color: #ffa07a;">'t'</span>,<span style="color: #ffa07a;">'_'</span>],
  [<span style="color: #ffa07a;">'u'</span>,<span style="color: #ffa07a;">'j'</span>],
  [<span style="color: #ffa07a;">'v'</span>,<span style="color: #ffa07a;">'k'</span>],
  [<span style="color: #ffa07a;">'w'</span>,<span style="color: #ffa07a;">'l'</span>],
  [<span style="color: #ffa07a;">'x'</span>,<span style="color: #ffa07a;">'m'</span>],
  [<span style="color: #ffa07a;">'y'</span>,<span style="color: #ffa07a;">'n'</span>],
  [<span style="color: #ffa07a;">'z'</span>,<span style="color: #ffa07a;">'o'</span>]
];



<span style="color: #00ffff;">function</span> <span style="color: #87cefa;">binary_search</span> (<span style="color: #eedd82;">data</span>, <span style="color: #eedd82;">target</span>, <span style="color: #eedd82;">start</span>, <span style="color: #eedd82;">end</span>) {
  console.log(<span style="color: #ffa07a;">"target="</span>+target);
  console.log(<span style="color: #ffa07a;">"start="</span>+start);
  console.log(<span style="color: #ffa07a;">"end="</span>+end);

  <span style="color: #00ffff;">if</span> (end &lt; data[0]) {
    console.log(<span style="color: #ffa07a;">"return 1"</span>);
    <span style="color: #00ffff;">return</span> <span style="color: #7fffd4;">false</span>;
  }

  <span style="color: #ff7f24;">// </span><span style="color: #ff7f24;">&#1053;&#1072;&#1093;&#1086;&#1076;&#1080;&#1084; &#1089;&#1088;&#1077;&#1076;&#1085;&#1077;&#1077; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1077;</span>
  <span style="color: #00ffff;">const</span> <span style="color: #eedd82;">middle</span> = Math.floor(start + (end - start) / 2);
  console.log(middle);
  console.log(data[middle][0]);
  console.log(target);
  <span style="color: #ff7f24;">// </span><span style="color: #ff7f24;">&#1045;&#1089;&#1083;&#1080; &#1089;&#1086;&#1076;&#1077;&#1088;&#1078;&#1080;&#1084;&#1086;&#1077; &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1072; &#1089; &#1080;&#1085;&#1076;&#1077;&#1082;&#1089;&#1086;&#1084;, &#1088;&#1072;&#1074;&#1085;&#1099;&#1084; &#1089;&#1088;&#1077;&#1076;&#1085;&#1077;&#1084;&#1091; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1102; &#1086;&#1082;&#1072;&#1079;&#1072;&#1083;&#1086;&#1089;&#1100; &#1088;&#1072;&#1074;&#1085;&#1086; target</span>

  <span style="color: #00ffff;">if</span> (target === data[middle][0]) {
    <span style="color: #ff7f24;">// </span><span style="color: #ff7f24;">&#1074;&#1086;&#1079;&#1074;&#1088;&#1072;&#1097;&#1072;&#1077;&#1084; &#1089;&#1086;&#1086;&#1090;&#1074;&#1077;&#1090;&#1089;&#1090;&#1074;&#1080;&#1077;</span>
    console.log(<span style="color: #ffa07a;">"return found"</span>);
    <span style="color: #00ffff;">return</span> data[middle][1];
  }

  <span style="color: #ff7f24;">// </span><span style="color: #ff7f24;">&#1045;&#1089;&#1083;&#1080; &#1086;&#1089;&#1090;&#1072;&#1083;&#1086;&#1089;&#1100; &#1076;&#1074;&#1072; &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1072;: &#1085;&#1072; &#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1081; &#1091;&#1082;&#1072;&#1079;&#1099;&#1074;&#1072;&#1077;&#1090; start &#1080; &#1085;&#1072; &#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1081; &#1091;&#1082;&#1072;&#1079;&#1099;&#1074;&#1072;&#1077;&#1090; end</span>
  <span style="color: #00ffff;">if</span> (data[end] - 1 === data[start]) {
    <span style="color: #00ffff;">if</span> (target === data[end][0]) {
      <span style="color: #ff7f24;">// </span><span style="color: #ff7f24;">&#1074;&#1086;&#1079;&#1074;&#1088;&#1072;&#1097;&#1072;&#1077;&#1084; &#1089;&#1086;&#1086;&#1090;&#1074;&#1077;&#1090;&#1089;&#1090;&#1074;&#1080;&#1077;</span>
      console.log(<span style="color: #ffa07a;">"return from found on end"</span>);
      <span style="color: #00ffff;">return</span> data[end][1];
    }
    <span style="color: #00ffff;">if</span> (target === data[start][0]) {
      <span style="color: #ff7f24;">// </span><span style="color: #ff7f24;">&#1074;&#1086;&#1079;&#1074;&#1088;&#1072;&#1097;&#1072;&#1077;&#1084; &#1089;&#1086;&#1086;&#1090;&#1074;&#1077;&#1090;&#1089;&#1090;&#1074;&#1080;&#1077;</span>
      console.log(<span style="color: #ffa07a;">"return from found on start"</span>);
      <span style="color: #00ffff;">return</span> data[start][1];
    }
    console.log(<span style="color: #ffa07a;">"return 2"</span>);
    <span style="color: #00ffff;">return</span> <span style="color: #7fffd4;">false</span>;
  }

  <span style="color: #00ffff;">if</span> (target.charCodeAt() &gt; data[middle][0].charCodeAt()) {
    console.log(<span style="color: #ffa07a;">"we need to go deeper! &gt;"</span>);
    <span style="color: #00ffff;">var</span> <span style="color: #eedd82;">pre_result</span> = binary_search(data, target, middle, end);
    console.log(<span style="color: #ffa07a;">"return from found on &gt;"</span>);
    <span style="color: #00ffff;">return</span> pre_result;
  }

  <span style="color: #00ffff;">if</span> (target.charCodeAt() &lt; data[middle][0].charCodeAt()) {
    console.log(<span style="color: #ffa07a;">"we need to go deeper! &lt;"</span>);
    <span style="color: #00ffff;">var</span> <span style="color: #eedd82;">pre_result</span> = binary_search(data, target, start, middle);
    console.log(<span style="color: #ffa07a;">"return from found on &lt;"</span>);
    <span style="color: #00ffff;">return</span> pre_result;
  }
  console.log(<span style="color: #ffa07a;">"return 3"</span>);
  <span style="color: #00ffff;">return</span> <span style="color: #7fffd4;">false</span>;
}

<span style="color: #00ffff;">function</span> <span style="color: #87cefa;">helper</span> () {
  <span style="color: #00ffff;">var</span> <span style="color: #eedd82;">getText</span> = document.getElementById(<span style="color: #ffa07a;">'translate'</span>);
  console.log(<span style="color: #ffa07a;">"getText="</span>+document.getElementById(<span style="color: #ffa07a;">'translate'</span>));
  <span style="color: #00ffff;">var</span> <span style="color: #eedd82;">param</span> = getText.value;
  console.log(<span style="color: #ffa07a;">"param="</span>+param);
  document.getElementById(<span style="color: #ffa07a;">'Translate_ready'</span>).value = translate(param);

}

<span style="color: #00ffff;">function</span> <span style="color: #87cefa;">translate</span> (<span style="color: #eedd82;">param</span>) {
 <span style="color: #00ffff;">return</span> param.split(<span style="color: #ffa07a;">''</span>).map(<span style="color: #00ffff;">function</span>(<span style="color: #eedd82;">symbol</span>) {
    <span style="color: #00ffff;">var</span> <span style="color: #eedd82;">result_value</span> = binary_search(array, symbol, 0, array.length-1);
    <span style="color: #00ffff;">if</span> (<span style="color: #7fffd4;">false</span> === result_value) {
      alert(<span style="color: #ffa07a;">"something wrong"</span>);
    }
    <span style="color: #00ffff;">return</span> result_value;
  });
}

<span style="color: #ff7f24;">// </span><span style="color: #ff7f24;">var return_value = translate('abc');</span>
<span style="color: #ff7f24;">// </span><span style="color: #ff7f24;">console.log("translate result is " + return_value);</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-unnumbered-5" class="outline-3">
<h3 id="unnumbered-5">HTML и CSS</h3>
<div class="outline-text-3" id="text-unnumbered-5">
<p>
Декларативные языки разметки
</p>
</div>
</div>
</div>
<div id="outline-container-unnumbered-6" class="outline-2">
<h2 id="unnumbered-6">Создание игры на Java</h2>
<div class="outline-text-2" id="text-unnumbered-6">
<p>
Этот интенсив рассчитан на 3-5 дней. За это время мы создаем простую игру <a href="https://ru.wikipedia.org/wiki/Breakout_(%D0%B8%D0%B3%D1%80%D0%B0)">Breakout</a>
(<a href="https://ru.wikipedia.org/wiki/Arkanoid">Arkanoid</a>) с использованием <code>JavaSE</code> и графической библиотеки <code>libGDX</code>.
</p>

<p>
Геймплей: Игрок контролирует небольшую платформу-ракетку, которую можно передвигать
горизонтально от одной стенки до другой, подставляя её под шарик, предотвращая его
падение вниз. Удар шарика по кирпичу приводит к разрушению кирпича.
</p>

<ul class="org-ul">
<li><a href="../lrn/java/setup.html">Установка всего необходимого</a>
</li>
<li><a href="../lrn/java/gameclass.html">Анализируем MyGdxGame</a>
</li>
<li><a href="../lrn/java/control.html">Управление и физика</a>
</li>
<li><a href="../lrn/java/bricks.html">Разбиваемые элементы</a>
</li>
<li><a href="../lrn/java/platform.html">Платформа</a>
</li>
<li><a href="../lrn/java/endgame.html">Завершение игры</a>
</li>
</ul>
</div>
</div>

<div id="outline-container-unnumbered-7" class="outline-2">
<h2 id="unnumbered-7">Низкоуровневое программирование</h2>
<div class="outline-text-2" id="text-unnumbered-7">
</div><div id="outline-container-unnumbered-8" class="outline-3">
<h3 id="unnumbered-8">Стек и вызов процедур</h3>
<div class="outline-text-3" id="text-unnumbered-8">
</div><div id="outline-container-unnumbered-9" class="outline-4">
<h4 id="unnumbered-9">Пролог и эпилог функции</h4>
</div>
</div>
<div id="outline-container-unnumbered-10" class="outline-3">
<h3 id="unnumbered-10">Указатели</h3>
<div class="outline-text-3" id="text-unnumbered-10">
</div><div id="outline-container-unnumbered-11" class="outline-4">
<h4 id="unnumbered-11">Транслятор кода Морзе на Ассемблере</h4>
<div class="outline-text-4" id="text-unnumbered-11">
</div><ul class="org-ul"><li><a id="unnumbered-12"></a>Табличный перекодировщик<br ><div class="outline-text-5" id="text-unnumbered-12">
<p>
Работа с массивом структур, содержащих указатели
</p>

<div class="org-src-container">

<pre class="src src-asm"><span style="color: #87cefa;">a</span>:
    <span style="color: #00ffff;">.ascii</span> <span style="color: #ffa07a;">"_."</span>
    <span style="color: #00ffff;">.byte</span> 0
<span style="color: #87cefa;">b</span>:
    <span style="color: #00ffff;">.ascii</span> <span style="color: #ffa07a;">"_..."</span>
<span style="color: #87cefa;">c</span>:
    <span style="color: #00ffff;">.ascii</span> <span style="color: #ffa07a;">"_._."</span>
    <span style="color: #00ffff;">.ascii</span> <span style="color: #ffa07a;">"AAAA"</span>
<span style="color: #87cefa;">table</span>:
<span style="color: #87cefa;">table_a</span>:
    <span style="color: #00ffff;">.ascii</span> <span style="color: #ffa07a;">"a"</span>
    <span style="color: #00ffff;">.int</span> a
<span style="color: #87cefa;">table_b</span>:
    <span style="color: #00ffff;">.ascii</span> <span style="color: #ffa07a;">"b"</span>
    <span style="color: #00ffff;">.int</span> b
<span style="color: #87cefa;">table_c</span>:
    <span style="color: #00ffff;">.ascii</span> <span style="color: #ffa07a;">"c"</span>
    <span style="color: #00ffff;">.int</span> c
</pre>
</div>
</div>
</li>

<li><a id="unnumbered-13"></a>Списковый перекодировщик<br ><div class="outline-text-5" id="text-unnumbered-13">
<p>
Работа со списком структур, содержащих указатели
</p>

<div class="org-src-container">

<pre class="src src-asm"><span style="color: #87cefa;">a</span>:
    <span style="color: #00ffff;">.int</span> 0
    <span style="color: #00ffff;">.ascii</span> <span style="color: #ffa07a;">"a"</span>
    <span style="color: #00ffff;">.ascii</span> <span style="color: #ffa07a;">"_."</span>
    <span style="color: #00ffff;">.byte</span> 0
<span style="color: #87cefa;">b</span>:
    <span style="color: #00ffff;">.int</span> a
    <span style="color: #00ffff;">.ascii</span> <span style="color: #ffa07a;">"b"</span>
    <span style="color: #00ffff;">.ascii</span> <span style="color: #ffa07a;">"_..."</span>
    <span style="color: #00ffff;">.byte</span> 0
<span style="color: #87cefa;">c</span>:
    <span style="color: #00ffff;">.int</span> b
    <span style="color: #00ffff;">.ascii</span> <span style="color: #ffa07a;">"c"</span>
    <span style="color: #00ffff;">.ascii</span> <span style="color: #ffa07a;">"_._."</span>
    <span style="color: #00ffff;">.byte</span> 0
<span style="color: #87cefa;">last</span>:
    <span style="color: #00ffff;">int</span> c
</pre>
</div>
</div>
</li></ul>
</div>

<div id="outline-container-unnumbered-14" class="outline-4">
<h4 id="unnumbered-14">Эквивалентность программ</h4>
<div class="outline-text-4" id="text-unnumbered-14">
<ul class="org-ul">
<li>Построение трасс
</li>
<li>Эквивалентность по трассам
</li>
<li>Обратная трассировка
</li>
<li>Построение остаточной программы из заданной точки графа управления
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-unnumbered-15" class="outline-3">
<h3 id="unnumbered-15">Взамодействие с операционной системой</h3>
<div class="outline-text-3" id="text-unnumbered-15">
<ul class="org-ul">
<li><a href="../lrn/asm/cmd.html">Анализ ассемблирования и сборки Linux-программы</a>
</li>
</ul>
</div>
</div>
<div id="outline-container-unnumbered-16" class="outline-3">
<h3 id="unnumbered-16">Ввод-вывод</h3>
<div class="outline-text-3" id="text-unnumbered-16">
</div><div id="outline-container-unnumbered-17" class="outline-4">
<h4 id="unnumbered-17">Интепретатор команд</h4>
<div class="outline-text-4" id="text-unnumbered-17">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #7fffd4;">#include</span> <span style="color: #ffa07a;">&lt;stdio.h&gt;</span>
<span style="color: #7fffd4;">#include</span> <span style="color: #ffa07a;">&lt;string.h&gt;</span>
<span style="color: #7fffd4;">#include</span> <span style="color: #ffa07a;">&lt;stdlib.h&gt;</span>
<span style="color: #7fffd4;">#include</span> <span style="color: #ffa07a;">&lt;time.h&gt;</span>
<span style="color: #7fffd4;">#include</span> <span style="color: #ffa07a;">&lt;SDL2/SDL.h&gt;</span>

<span style="color: #7fffd4;">#define</span> <span style="color: #eedd82;">QUEUE_SIZE</span> 400
<span style="color: #7fffd4;">#define</span> <span style="color: #eedd82;">LEFT</span>  1
<span style="color: #7fffd4;">#define</span> <span style="color: #eedd82;">UP</span>    2
<span style="color: #7fffd4;">#define</span> <span style="color: #eedd82;">DOWN</span>  3
<span style="color: #7fffd4;">#define</span> <span style="color: #eedd82;">RIGHT</span> 4
<span style="color: #7fffd4;">#define</span> <span style="color: #eedd82;">MAX_X</span> 24
<span style="color: #7fffd4;">#define</span> <span style="color: #eedd82;">MAX_Y</span> 14
<span style="color: #7fffd4;">#define</span> <span style="color: #eedd82;">TILE_SIZE</span> 32
<span style="color: #7fffd4;">#define</span> <span style="color: #eedd82;">SIZE_OF_COMMAND_NAME</span> 10
<span style="color: #7fffd4;">#define</span> <span style="color: #eedd82;">FOR_ALL_COMMAND</span> <span style="color: #00ffff;">for</span> (<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">i</span>=0; i&lt;(<span style="color: #00ffff;">sizeof</span>(cmds)/<span style="color: #00ffff;">sizeof</span>(<span style="color: #00ffff;">struct</span> <span style="color: #98fb98;">command</span>)); i++)

<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">exit_flag</span> = 0;
<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">cur_priv_lvl</span>  = 0;

<span style="color: #00ffff;">typedef</span> <span style="color: #98fb98;">void</span> (*<span style="color: #98fb98;">pcmd</span>)();

<span style="color: #00ffff;">struct</span> <span style="color: #98fb98;">command</span> {
    <span style="color: #98fb98;">int</span>  <span style="color: #eedd82;">active</span>;
    <span style="color: #98fb98;">int</span>  <span style="color: #eedd82;">privileged</span>;
    <span style="color: #98fb98;">int</span>  <span style="color: #eedd82;">num</span>;
    <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">name</span>[SIZE_OF_COMMAND_NAME];
    <span style="color: #98fb98;">void</span> (*pf)();
};

<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">game</span>();
<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">hello</span>();
<span style="color: #98fb98;">pcmd</span> <span style="color: #87cefa;">get_command</span>();
<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">login</span>();
<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">badcmd</span>();
<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">quit</span>();
<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">badcmd</span>() {    printf(<span style="color: #ffa07a;">"error: bad command or low privilegies\n"</span>); }
<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">quit</span>()   {    exit_flag = 1; }

<span style="color: #00ffff;">struct</span> <span style="color: #98fb98;">command</span> <span style="color: #eedd82;">cmds</span>[] = {
    {1,0,1,<span style="color: #ffa07a;">"quit"</span>,  &amp;quit  },
    {1,0,2,<span style="color: #ffa07a;">"login"</span>, &amp;login },
    {1,1,5,<span style="color: #ffa07a;">"game"</span>,  &amp;game  }
};

<span style="color: #98fb98;">char</span> <span style="color: #eedd82;">log_ok</span>[] = <span style="color: #ffa07a;">"success: you are logged"</span>;

<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">login</span>() {
    <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">passbuf</span>[50];
    puts(<span style="color: #ffa07a;">"enter password:"</span>);
    gets(passbuf);
    <span style="color: #00ffff;">if</span> (0 == strcmp(passbuf, log_ok+19)) {
        cur_priv_lvl = 1;
        puts(log_ok);
    } <span style="color: #00ffff;">else</span> {
        puts(<span style="color: #ffa07a;">"error: wrong password"</span>);
    }
}

<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">hello</span>() {
    printf(<span style="color: #ffa07a;">"available comands:\n- for logged users: "</span>);
    FOR_ALL_COMMAND
    {
        printf(<span style="color: #ffa07a;">"%s, "</span>, cmds[i].name);
    }
    printf(<span style="color: #ffa07a;">"\n- for unprivileged users: "</span>);
    FOR_ALL_COMMAND
    {
        <span style="color: #00ffff;">if</span> (0 == cmds[i].privileged) { printf(<span style="color: #ffa07a;">"%s, "</span>, cmds[i].name); }
    }
    puts(<span style="color: #ffa07a;">""</span>);
}

<span style="color: #98fb98;">pcmd</span> <span style="color: #87cefa;">get_command</span>() {
    <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">cmdbuf</span>[50];
    puts(<span style="color: #ffa07a;">"enter your command here:"</span>);
    gets(cmdbuf);
    FOR_ALL_COMMAND
    {
        <span style="color: #00ffff;">if</span> (cmds[i].privileged &lt;= cur_priv_lvl) {
            <span style="color: #00ffff;">if</span> (0 == strcmp(cmdbuf, cmds[i].name)) {
                <span style="color: #00ffff;">return</span> cmds[i].pf;
            }
        }
    }
    <span style="color: #00ffff;">return</span> &amp;badcmd;
}

<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">argc</span>, <span style="color: #98fb98;">char</span>** <span style="color: #eedd82;">argv</span>)
{
    hello();
    <span style="color: #00ffff;">while</span>(0 == exit_flag) {
        (get_command())();
    }
}


<span style="color: #ff7f24;">////////////////////////////////////////////////////////////////////</span>



<span style="color: #98fb98;">char</span> <span style="color: #eedd82;">dir</span>;
<span style="color: #98fb98;">char</span> <span style="color: #eedd82;">old_dir</span>;
<span style="color: #98fb98;">char</span> <span style="color: #eedd82;">eaten</span>;
<span style="color: #98fb98;">char</span> <span style="color: #eedd82;">mat</span>[MAX_X+1][MAX_Y+1];

<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">delay</span> = 16;

<span style="color: #00ffff;">typedef</span> <span style="color: #00ffff;">struct</span> <span style="color: #98fb98;">tag_node</span> {
    <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">x</span>;
    <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">y</span>;
} <span style="color: #98fb98;">node</span>;

<span style="color: #98fb98;">node</span> <span style="color: #eedd82;">body</span>;
<span style="color: #98fb98;">node</span> <span style="color: #eedd82;">head</span>;
<span style="color: #98fb98;">node</span> <span style="color: #eedd82;">tail</span>;
<span style="color: #98fb98;">node</span> <span style="color: #eedd82;">fruit</span>;

<span style="color: #00ffff;">typedef</span> <span style="color: #00ffff;">struct</span> <span style="color: #98fb98;">tag_queue</span> {
    <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">first</span>;
    <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">last</span>;
    <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">len</span>;
    <span style="color: #98fb98;">node</span> <span style="color: #eedd82;">elems</span>[QUEUE_SIZE];
} <span style="color: #98fb98;">queue</span>;

<span style="color: #98fb98;">queue</span> <span style="color: #eedd82;">snake</span>;

<span style="color: #98fb98;">SDL_Renderer</span>* <span style="color: #eedd82;">renderer</span> = <span style="color: #7fffd4;">NULL</span>;
<span style="color: #98fb98;">SDL_Surface</span>*  <span style="color: #eedd82;">field_surface</span> = <span style="color: #7fffd4;">NULL</span>;
<span style="color: #98fb98;">SDL_Surface</span>*  <span style="color: #eedd82;">fruit_surface</span> = <span style="color: #7fffd4;">NULL</span>;
<span style="color: #98fb98;">SDL_Surface</span>*  <span style="color: #eedd82;">shead_surface</span> = <span style="color: #7fffd4;">NULL</span>;
<span style="color: #98fb98;">SDL_Surface</span>*  <span style="color: #eedd82;">snake_surface</span> = <span style="color: #7fffd4;">NULL</span>;
<span style="color: #98fb98;">SDL_Texture</span>*  <span style="color: #eedd82;">field_texture</span> = <span style="color: #7fffd4;">NULL</span>;
<span style="color: #98fb98;">SDL_Texture</span>*  <span style="color: #eedd82;">fruit_texture</span> = <span style="color: #7fffd4;">NULL</span>;
<span style="color: #98fb98;">SDL_Texture</span>*  <span style="color: #eedd82;">shead_texture</span> = <span style="color: #7fffd4;">NULL</span>;
<span style="color: #98fb98;">SDL_Texture</span>*  <span style="color: #eedd82;">snake_texture</span> = <span style="color: #7fffd4;">NULL</span>;

<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">init</span>(<span style="color: #98fb98;">void</span>);
<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">input</span>(<span style="color: #98fb98;">void</span>);
<span style="color: #98fb98;">int</span>  <span style="color: #87cefa;">update</span>(<span style="color: #98fb98;">void</span>);
<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">render</span>(<span style="color: #98fb98;">void</span>);
<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">pop_tail</span>(<span style="color: #98fb98;">void</span>);
<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">push_head</span>(<span style="color: #98fb98;">void</span>);
<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">draw_body</span>(<span style="color: #98fb98;">void</span>);
<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">draw_head</span>(<span style="color: #98fb98;">void</span>);
<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">draw_fruit</span>(<span style="color: #98fb98;">void</span>);
<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">clear_tail</span>(<span style="color: #98fb98;">void</span>);
<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">next_fruit</span>(<span style="color: #98fb98;">void</span>);

<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">run_snake</span> = 0;

<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">game</span>() {
    <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">i</span>, <span style="color: #eedd82;">j</span>;

    dir = 0;
    <span style="color: #00ffff;">for</span> (i = 0; i &lt;= MAX_X; i++) {
        <span style="color: #00ffff;">for</span> (j = 0; j &lt;= MAX_Y; j++) {
            mat[head.x][head.y] = 0;
        }
    }
    delay = 16;
    body.x = 0;
    body.y = 0;
    head.x = 0;
    head.y = 0;
    tail.x = 0;
    tail.y = 0;
    <span style="color: #00ffff;">for</span> (i = 0; i &lt;= QUEUE_SIZE; i++) {
        snake.elems[i].x = 0;
        snake.elems[i].y = 1;
    }

    <span style="color: #98fb98;">SDL_Window</span> *<span style="color: #eedd82;">window</span> = <span style="color: #7fffd4;">NULL</span>;
    <span style="color: #00ffff;">if</span> (SDL_Init(SDL_INIT_VIDEO) != 0) {
        fprintf(stderr, <span style="color: #ffa07a;">"SDL_Init: %s\n"</span>, SDL_GetError());
    }
    atexit(SDL_Quit);
    SDL_CreateWindowAndRenderer(800, 480, 0, &amp;window, &amp;renderer);
    SDL_SetRenderDrawColor(renderer, 255, 255, 255, 255);
    SDL_RenderClear(renderer);
    SDL_RenderPresent(renderer);
    fruit_surface = SDL_LoadBMP(<span style="color: #ffa07a;">"apple.bmp"</span>);
    shead_surface = SDL_LoadBMP(<span style="color: #ffa07a;">"head.bmp"</span>);
    snake_surface = SDL_LoadBMP(<span style="color: #ffa07a;">"snake.bmp"</span>);
    field_surface = SDL_LoadBMP(<span style="color: #ffa07a;">"field.bmp"</span>);
    fruit_texture = SDL_CreateTextureFromSurface(renderer, fruit_surface);
    shead_texture = SDL_CreateTextureFromSurface(renderer, shead_surface);
    snake_texture = SDL_CreateTextureFromSurface(renderer, snake_surface);
    field_texture = SDL_CreateTextureFromSurface(renderer, field_surface);
    <span style="color: #00ffff;">for</span> (i = 0; i &lt;= MAX_X; i++) {
        <span style="color: #00ffff;">for</span> (j = 0; j &lt;= MAX_Y; j++) {
            tail.x = i;
            tail.y = j;
            clear_tail();
        }
    }

    snake.first = 0;
    snake.last = 0;
    snake.len = 0;
    <span style="color: #ff7f24;">// </span><span style="color: #ff7f24;">srand((unsigned) (NULL));</span>
    fruit.x = <span style="color: #ff7f24;">/*</span><span style="color: #ff7f24;">rand() % 16 +</span><span style="color: #ff7f24;">*/</span> 5;
    fruit.y = <span style="color: #ff7f24;">/*</span><span style="color: #ff7f24;">rand() % 6 +</span><span style="color: #ff7f24;">*/</span> 5;
    head = fruit;
    <span style="color: #00ffff;">if</span> (head.x &lt; (MAX_X / 2)) {
        dir = RIGHT;
    } <span style="color: #00ffff;">else</span> {
        dir = LEFT;
    }
    push_head();
    next_fruit();
    eaten = 1;
    old_dir = 0;
    printf(<span style="color: #ffa07a;">"Level 1\n"</span>);

    render();
    run_snake = 1;
    <span style="color: #00ffff;">while</span> (run_snake == 1) {
        input();
        <span style="color: #00ffff;">if</span> (update()) {
            run_snake = 0;
            <span style="color: #00ffff;">goto</span> <span style="color: #7fffd4;">zzz</span>;
        }
        render();
        SDL_Delay(delay * 10);
    }
<span style="color: #7fffd4;">zzz</span>:
    SDL_DestroyTexture(field_texture);
    SDL_DestroyTexture(snake_texture);
    SDL_DestroyTexture(shead_texture);
    SDL_DestroyTexture(fruit_texture);
    SDL_FreeSurface(field_surface);
    SDL_FreeSurface(snake_surface);
    SDL_FreeSurface(shead_surface);
    SDL_FreeSurface(fruit_surface);
    SDL_DestroyRenderer(renderer);
    SDL_DestroyWindow(window);
    SDL_Quit();
    printf(<span style="color: #ffa07a;">"Snake Length: %d\n"</span>, snake.len);
    printf(<span style="color: #ffa07a;">"Game Over\n"</span>);
}


<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">input</span>(<span style="color: #98fb98;">void</span>)
{
    <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">Uint8</span> *<span style="color: #eedd82;">state</span> = SDL_GetKeyboardState(<span style="color: #7fffd4;">NULL</span>);
    SDL_PumpEvents();
    <span style="color: #00ffff;">if</span> (state[SDL_SCANCODE_UP]) {
        dir = UP;
    } <span style="color: #00ffff;">else</span> <span style="color: #00ffff;">if</span> (state[SDL_SCANCODE_DOWN]) {
        dir = DOWN;
    } <span style="color: #00ffff;">else</span> <span style="color: #00ffff;">if</span> (state[SDL_SCANCODE_LEFT]) {
        dir = LEFT;
    } <span style="color: #00ffff;">else</span> <span style="color: #00ffff;">if</span> (state[SDL_SCANCODE_RIGHT]) {
        dir = RIGHT;
    } <span style="color: #00ffff;">else</span> <span style="color: #00ffff;">if</span> (state[SDL_SCANCODE_ESCAPE]) {
        exit(0);
    }
    <span style="color: #ff7f24;">/* </span><span style="color: #ff7f24;">Ignore opposite direction </span><span style="color: #ff7f24;">*/</span>
    <span style="color: #00ffff;">if</span> (dir + old_dir != 5 || snake.len == 1) {
        old_dir = dir;
    } <span style="color: #00ffff;">else</span> {
        dir = old_dir;
    }
}

<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">update</span>(<span style="color: #98fb98;">void</span>)
{
    body = head;
    <span style="color: #00ffff;">switch</span> (dir) {
    <span style="color: #00ffff;">case</span> UP:
        head.y = head.y - 1;
        <span style="color: #00ffff;">break</span>;
    <span style="color: #00ffff;">case</span> DOWN:
        head.y = head.y + 1;
        <span style="color: #00ffff;">break</span>;
    <span style="color: #00ffff;">case</span> LEFT:
        head.x = head.x - 1;
        <span style="color: #00ffff;">break</span>;
    <span style="color: #00ffff;">case</span> RIGHT:
        head.x = head.x + 1;
        <span style="color: #00ffff;">break</span>;
    }
    <span style="color: #00ffff;">if</span> (head.x &lt; 0 || head.x &gt; MAX_X || head.y &lt; 0 || head.y &gt; MAX_Y) {
        <span style="color: #00ffff;">return</span> 1;
    }
    <span style="color: #00ffff;">if</span> (mat[head.x][head.y]) {
        <span style="color: #00ffff;">return</span> 1;
    }
    <span style="color: #00ffff;">if</span> (head.x == fruit.x &amp;&amp; head.y == fruit.y) {
        next_fruit();
        eaten = 1;
        <span style="color: #00ffff;">switch</span> (snake.len) {
        <span style="color: #00ffff;">case</span> 10:
            delay -= 4;
            printf(<span style="color: #ffa07a;">"Level 2\n"</span>);
            <span style="color: #00ffff;">break</span>;
        <span style="color: #00ffff;">case</span> 20:
            delay -= 4;
            printf(<span style="color: #ffa07a;">"Level 3\n"</span>);
            <span style="color: #00ffff;">break</span>;
        <span style="color: #00ffff;">case</span> 30:
            delay /= 2;
            printf(<span style="color: #ffa07a;">"Level 4\n"</span>);
            <span style="color: #00ffff;">break</span>;
        <span style="color: #00ffff;">case</span> 40:
            delay /= 2;
            printf(<span style="color: #ffa07a;">"Level 5\n"</span>);
            <span style="color: #00ffff;">break</span>;
        }
    } <span style="color: #00ffff;">else</span> {
        pop_tail();
        eaten = 0;
    }
    push_head();
    <span style="color: #00ffff;">return</span> 0;
}

<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">render</span>(<span style="color: #98fb98;">void</span>)
{
    <span style="color: #00ffff;">if</span> (snake.len &gt; 1) {
        draw_body();
    }
    <span style="color: #00ffff;">if</span> (eaten) {
        draw_fruit();
    } <span style="color: #00ffff;">else</span> {
        clear_tail();
    }
    draw_head();
    SDL_RenderPresent(renderer);
}

<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">pop_tail</span>(<span style="color: #98fb98;">void</span>)
{
    tail = snake.elems[snake.first];
    snake.first = (snake.first + 1) % QUEUE_SIZE;
    snake.len--;
    mat[tail.x][tail.y] = 0;
}

<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">push_head</span>(<span style="color: #98fb98;">void</span>)
{
    snake.elems[snake.last] = head;
    snake.last = (snake.last + 1) % QUEUE_SIZE;
    snake.len++;
    mat[head.x][head.y] = 1;
}

<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">draw_body</span>(<span style="color: #98fb98;">void</span>)
{
    <span style="color: #98fb98;">SDL_Rect</span> <span style="color: #eedd82;">rect</span>;
    rect.h = TILE_SIZE;
    rect.w = TILE_SIZE;
    rect.x = body.x * TILE_SIZE;
    rect.y = body.y * TILE_SIZE;
    SDL_RenderCopy(renderer, snake_texture, <span style="color: #7fffd4;">NULL</span>, &amp;rect);
}

<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">draw_head</span>(<span style="color: #98fb98;">void</span>)
{
    <span style="color: #98fb98;">SDL_Rect</span> <span style="color: #eedd82;">rect</span>;
    rect.h = TILE_SIZE;
    rect.w = TILE_SIZE;
    rect.x = head.x * TILE_SIZE;
    rect.y = head.y * TILE_SIZE;
    SDL_RenderCopy(renderer, shead_texture, <span style="color: #7fffd4;">NULL</span>, &amp;rect);
}

<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">draw_fruit</span>(<span style="color: #98fb98;">void</span>)
{
    <span style="color: #98fb98;">SDL_Rect</span> <span style="color: #eedd82;">rect</span>;
    rect.h = TILE_SIZE;
    rect.w = TILE_SIZE;
    rect.x = fruit.x * TILE_SIZE;
    rect.y = fruit.y * TILE_SIZE;
    SDL_RenderCopy(renderer, fruit_texture, <span style="color: #7fffd4;">NULL</span>, &amp;rect);
}

<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">clear_tail</span>(<span style="color: #98fb98;">void</span>)
{
    <span style="color: #98fb98;">SDL_Rect</span> <span style="color: #eedd82;">rect</span>;
    rect.h = TILE_SIZE;
    rect.w = TILE_SIZE;
    rect.x = tail.x * TILE_SIZE;
    rect.y = tail.y * TILE_SIZE;
    SDL_RenderCopy(renderer, field_texture, <span style="color: #7fffd4;">NULL</span>, &amp;rect);
    <span style="color: #ff7f24;">/* </span><span style="color: #ff7f24;">SDL_SetRenderDrawColor(renderer, 255, 255, 255, 255);</span>
<span style="color: #ff7f24;">       SDL_RenderFillRect(renderer, &amp;rect); </span><span style="color: #ff7f24;">*/</span>
}

<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">next_fruit</span>(<span style="color: #98fb98;">void</span>)
{
    <span style="color: #00ffff;">do</span> {
        fruit.x = (fruit.x * 6 + 1) % (MAX_X + 1);
        fruit.y = (fruit.y * 16 + 1) % (MAX_Y + 1);
    } <span style="color: #00ffff;">while</span> (mat[fruit.x][fruit.y]);
}
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-unnumbered-18" class="outline-3">
<h3 id="unnumbered-18">Обработка прерываний</h3>
</div>
<div id="outline-container-unnumbered-19" class="outline-3">
<h3 id="unnumbered-19">Оверлеи</h3>
</div>
<div id="outline-container-unnumbered-20" class="outline-3">
<h3 id="unnumbered-20">Разделяемые библиотеки</h3>
</div>
<div id="outline-container-unnumbered-21" class="outline-3">
<h3 id="unnumbered-21">Компоновка</h3>
</div>
<div id="outline-container-unnumbered-22" class="outline-3">
<h3 id="unnumbered-22">Системы сборки</h3>
</div>
<div id="outline-container-unnumbered-23" class="outline-3">
<h3 id="unnumbered-23">Зависимости</h3>
</div>
</div>
<div id="outline-container-unnumbered-24" class="outline-2">
<h2 id="unnumbered-24">Обратная инженерия</h2>
<div class="outline-text-2" id="text-unnumbered-24">
<ul class="org-ul">
<li><a href="https://vk.com/wall-54530371_157122">https://vk.com/wall-54530371_157122</a>
</li>
<li><a href="https://vk.com/wall-54530371_156890">https://vk.com/wall-54530371_156890</a>
</li>
</ul>
</div>
<div id="outline-container-unnumbered-25" class="outline-3">
<h3 id="unnumbered-25">Дизассемблирование</h3>
<div class="outline-text-3" id="text-unnumbered-25">
<ul class="org-ul">
<li><a href="../lrn/asm/strip.html">Ищем main без отладочных символов</a>
</li>
</ul>
</div>
</div>
<div id="outline-container-unnumbered-26" class="outline-3">
<h3 id="unnumbered-26">Взлом нашего интепретатора команд</h3>
</div>
<div id="outline-container-unnumbered-27" class="outline-3">
<h3 id="unnumbered-27">Детектирование отладчика</h3>
<div class="outline-text-3" id="text-unnumbered-27">
<div class="org-src-container">

<pre class="src src-asm">    <span style="color: #00ffff;">.file</span>   <span style="color: #ffa07a;">"bbbb.c"</span>
    <span style="color: #00ffff;">.section</span>    .rodata
<span style="color: #87cefa;">frmt_str</span>:
    <span style="color: #00ffff;">.string</span> <span style="color: #ffa07a;">"%x\n"</span>
<span style="color: #87cefa;">dbg_str</span>:
    <span style="color: #00ffff;">.string</span> <span style="color: #ffa07a;">"debugger!"</span>

    <span style="color: #00ffff;">.text</span>
    <span style="color: #00ffff;">.globl</span>  main
    <span style="color: #00ffff;">.type</span>   main, @function
<span style="color: #87cefa;">main</span>:
    <span style="color: #00ffff;">.LFB0</span>:
    <span style="color: #00ffff;">.cfi_startproc</span>
    <span style="color: #00ffff;">leal</span>    4(<span style="color: #eedd82;">%esp</span>), <span style="color: #eedd82;">%ecx</span>
    <span style="color: #00ffff;">andl</span>    $-16, <span style="color: #eedd82;">%esp</span>
    <span style="color: #00ffff;">pushl</span>   -4(<span style="color: #eedd82;">%ecx</span>)
    <span style="color: #00ffff;">pushl</span>   <span style="color: #eedd82;">%ebp</span>
    <span style="color: #00ffff;">movl</span>    <span style="color: #eedd82;">%esp</span>, <span style="color: #eedd82;">%ebp</span>

    <span style="color: #00ffff;">pushl</span>   <span style="color: #eedd82;">%ecx</span>
    <span style="color: #00ffff;">subl</span>    $4, <span style="color: #eedd82;">%esp</span>
    <span style="color: #00ffff;">call</span>    lab
    <span style="color: #00ffff;">subl</span>    $8, <span style="color: #eedd82;">%esp</span>

    <span style="color: #00ffff;">pushl</span>   <span style="color: #eedd82;">%eax</span>
    <span style="color: #00ffff;">pushl</span>   $frmt_str
    <span style="color: #00ffff;">call</span>    printf
    <span style="color: #00ffff;">addl</span>    $16, <span style="color: #eedd82;">%esp</span>

    <span style="color: #00ffff;">nop</span>

    <span style="color: #00ffff;">movl</span>    -4(<span style="color: #eedd82;">%ebp</span>), <span style="color: #eedd82;">%ecx</span>
    <span style="color: #00ffff;">leave</span>
    <span style="color: #00ffff;">leal</span>    -4(<span style="color: #eedd82;">%ecx</span>), <span style="color: #eedd82;">%esp</span>
    <span style="color: #00ffff;">ret</span>
    <span style="color: #00ffff;">.cfi_endproc</span>
<span style="color: #87cefa;">end_main</span>:
    <span style="color: #00ffff;">.size</span>   main, .-main
    <span style="color: #00ffff;">.globl</span>  lab
    <span style="color: #00ffff;">.type</span>   lab, @function
<span style="color: #87cefa;">lab</span>:
    <span style="color: #00ffff;">.cfi_startproc</span>
    <span style="color: #00ffff;">pushl</span>   <span style="color: #eedd82;">%ebp</span>
    <span style="color: #00ffff;">movl</span>    <span style="color: #eedd82;">%esp</span>, <span style="color: #eedd82;">%ebp</span>
<span style="color: #87cefa;">prepare</span>:
    <span style="color: #00ffff;">xor</span> <span style="color: #eedd82;">%edx</span>, <span style="color: #eedd82;">%edx</span>
    <span style="color: #00ffff;">movl</span>    $main, <span style="color: #eedd82;">%esi</span>
    <span style="color: #00ffff;">movl</span>    $end_main, <span style="color: #eedd82;">%edi</span>
    <span style="color: #00ffff;">jmp</span> loop_check
<span style="color: #87cefa;">loop</span>:
    <span style="color: #00ffff;">movzbl</span>  (<span style="color: #eedd82;">%esi</span>), <span style="color: #eedd82;">%eax</span>
    <span style="color: #00ffff;">cmpb</span>    $0xCC, <span style="color: #eedd82;">%al</span>
    <span style="color: #00ffff;">jne</span>     over_dbg
<span style="color: #87cefa;">dbg</span>:
    <span style="color: #00ffff;">subl</span>    $12, <span style="color: #eedd82;">%esp</span>
    <span style="color: #00ffff;">pushl</span>   $dbg_str
    <span style="color: #00ffff;">call</span>    puts
    <span style="color: #00ffff;">addl</span>    $16, <span style="color: #eedd82;">%esp</span>
<span style="color: #87cefa;">over_dbg</span>:
    <span style="color: #00ffff;">add</span> <span style="color: #eedd82;">%eax</span>, <span style="color: #eedd82;">%edx</span>
    <span style="color: #00ffff;">inc</span> <span style="color: #eedd82;">%esi</span>
<span style="color: #87cefa;">loop_check</span>:
    <span style="color: #00ffff;">cmp</span>     <span style="color: #eedd82;">%esi</span>, <span style="color: #eedd82;">%edi</span>
    <span style="color: #00ffff;">jne</span> loop
<span style="color: #87cefa;">leave</span>:
    <span style="color: #00ffff;">movl</span>    <span style="color: #eedd82;">%edx</span>, <span style="color: #eedd82;">%eax</span>
    <span style="color: #00ffff;">leave</span>
    <span style="color: #00ffff;">ret</span>
    <span style="color: #00ffff;">.cfi_endproc</span>
    <span style="color: #00ffff;">.LFE1</span>:
    <span style="color: #00ffff;">.size</span>   lab, .-lab
    <span style="color: #00ffff;">.ident</span>  <span style="color: #ffa07a;">"GCC: (Ubuntu 5.4.0-6ubuntu1~16.04.5) 5.4.0 20160609"</span>
    <span style="color: #00ffff;">.section</span>    .note.GNU-stack,<span style="color: #ffa07a;">""</span>,@progbit
</pre>
</div>
</div>
</div>

<div id="outline-container-unnumbered-28" class="outline-3">
<h3 id="unnumbered-28">Инструментирование кода</h3>
</div>
<div id="outline-container-unnumbered-29" class="outline-3">
<h3 id="unnumbered-29">Перехват вызовов</h3>
</div>
<div id="outline-container-unnumbered-30" class="outline-3">
<h3 id="unnumbered-30">Инструменты анализа систем</h3>
<div class="outline-text-3" id="text-unnumbered-30">
</div><div id="outline-container-unnumbered-31" class="outline-4">
<h4 id="unnumbered-31">ESIL</h4>
</div>
</div>
</div>
<div id="outline-container-unnumbered-32" class="outline-2">
<h2 id="unnumbered-32">Построение высокоуровнего языка</h2>
<div class="outline-text-2" id="text-unnumbered-32">
</div><div id="outline-container-unnumbered-33" class="outline-3">
<h3 id="unnumbered-33">Минимальный Forth</h3>
<div class="outline-text-3" id="text-unnumbered-33">
<ul class="org-ul">
<li><a href="../lrn/forth/jonesforth.html">Минимальный Forth с нуля</a>
</li>
</ul>
</div>
</div>
<div id="outline-container-unnumbered-34" class="outline-3">
<h3 id="unnumbered-34">Объектная система</h3>
</div>
<div id="outline-container-unnumbered-35" class="outline-3">
<h3 id="unnumbered-35">Сборка мусора</h3>
</div>
<div id="outline-container-unnumbered-36" class="outline-3">
<h3 id="unnumbered-36">Выращиваем Lisp</h3>
</div>
<div id="outline-container-unnumbered-37" class="outline-3">
<h3 id="unnumbered-37">Построение отладчика-эмулятора</h3>
</div>
<div id="outline-container-unnumbered-38" class="outline-3">
<h3 id="unnumbered-38">Построение трассировщика</h3>
</div>
<div id="outline-container-unnumbered-39" class="outline-3">
<h3 id="unnumbered-39">Декомпиляция и автоматический анализ</h3>
<div class="outline-text-3" id="text-unnumbered-39">
<ul class="org-ul">
<li>Построение остаточной программы из заданной точки
</li>
</ul>
</div>
</div>

<div id="outline-container-unnumbered-40" class="outline-3">
<h3 id="unnumbered-40">Суперкомпиляция</h3>
</div>
</div>
<div id="outline-container-unnumbered-41" class="outline-2">
<h2 id="unnumbered-41">Типизация</h2>
<div class="outline-text-2" id="text-unnumbered-41">
</div><div id="outline-container-unnumbered-42" class="outline-3">
<h3 id="unnumbered-42">Сильная/слабая</h3>
</div>
<div id="outline-container-unnumbered-43" class="outline-3">
<h3 id="unnumbered-43">Строгая/нестрогая</h3>
</div>
<div id="outline-container-unnumbered-44" class="outline-3">
<h3 id="unnumbered-44">Вывод типов</h3>
</div>
</div>
<div id="outline-container-unnumbered-45" class="outline-2">
<h2 id="unnumbered-45">Императивные парадигмы</h2>
<div class="outline-text-2" id="text-unnumbered-45">
</div><div id="outline-container-unnumbered-46" class="outline-3">
<h3 id="unnumbered-46">Процедурная</h3>
</div>
<div id="outline-container-unnumbered-47" class="outline-3">
<h3 id="unnumbered-47">модульная</h3>
</div>
<div id="outline-container-unnumbered-48" class="outline-3">
<h3 id="unnumbered-48">объектно-ориентированная</h3>
</div>
</div>
<div id="outline-container-unnumbered-49" class="outline-2">
<h2 id="unnumbered-49">Механизмы абстракции</h2>
<div class="outline-text-2" id="text-unnumbered-49">
</div><div id="outline-container-unnumbered-50" class="outline-3">
<h3 id="unnumbered-50">Кольцевой буфер</h3>
</div>
<div id="outline-container-unnumbered-51" class="outline-3">
<h3 id="unnumbered-51">Потоки</h3>
</div>
<div id="outline-container-unnumbered-52" class="outline-3">
<h3 id="unnumbered-52">Очереди сообщений</h3>
</div>
<div id="outline-container-unnumbered-53" class="outline-3">
<h3 id="unnumbered-53">Машины состояний</h3>
</div>
<div id="outline-container-unnumbered-54" class="outline-3">
<h3 id="unnumbered-54">Модель взаимодействующих акторов</h3>
</div>
<div id="outline-container-unnumbered-55" class="outline-3">
<h3 id="unnumbered-55">Сигналы</h3>
</div>
</div>
<div id="outline-container-unnumbered-56" class="outline-2">
<h2 id="unnumbered-56">Функциональное программирование</h2>
<div class="outline-text-2" id="text-unnumbered-56">
</div><div id="outline-container-unnumbered-57" class="outline-3">
<h3 id="unnumbered-57">Код как данные</h3>
</div>
<div id="outline-container-unnumbered-58" class="outline-3">
<h3 id="unnumbered-58">Рекурсия</h3>
</div>
<div id="outline-container-unnumbered-59" class="outline-3">
<h3 id="unnumbered-59">Функции высшего порядка</h3>
</div>
<div id="outline-container-unnumbered-60" class="outline-3">
<h3 id="unnumbered-60">Чистота</h3>
</div>
<div id="outline-container-unnumbered-61" class="outline-3">
<h3 id="unnumbered-61">Ленивость.</h3>
</div>
<div id="outline-container-unnumbered-62" class="outline-3">
<h3 id="unnumbered-62">Реактивность</h3>
<div class="outline-text-3" id="text-unnumbered-62">
<ul class="org-ul">
<li><a href="https://habrahabr.ru/company/infopulse/blog/338910/">https://habrahabr.ru/company/infopulse/blog/338910/</a>
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-unnumbered-63" class="outline-2">
<h2 id="unnumbered-63">Рантайм</h2>
<div class="outline-text-2" id="text-unnumbered-63">
</div><div id="outline-container-unnumbered-64" class="outline-3">
<h3 id="unnumbered-64">Менеджер памяти и умные указатели</h3>
</div>
<div id="outline-container-unnumbered-65" class="outline-3">
<h3 id="unnumbered-65">Сборка мусора</h3>
</div>
<div id="outline-container-unnumbered-66" class="outline-3">
<h3 id="unnumbered-66">Зеленые потоки</h3>
</div>
<div id="outline-container-unnumbered-67" class="outline-3">
<h3 id="unnumbered-67">Супервайзинг</h3>
</div>
</div>
<div id="outline-container-unnumbered-68" class="outline-2">
<h2 id="unnumbered-68">Логическое программирование</h2>
</div>
<div id="outline-container-unnumbered-69" class="outline-2">
<h2 id="unnumbered-69">Пролог</h2>
</div>
<div id="outline-container-unnumbered-70" class="outline-2">
<h2 id="unnumbered-70">Рефал</h2>
</div>
<div id="outline-container-unnumbered-71" class="outline-2">
<h2 id="unnumbered-71">Forth</h2>
</div>
<div id="outline-container-unnumbered-72" class="outline-2">
<h2 id="unnumbered-72">Визуальное программирование</h2>
<div class="outline-text-2" id="text-unnumbered-72">
</div><div id="outline-container-unnumbered-73" class="outline-3">
<h3 id="unnumbered-73">Дракон</h3>
</div>
</div>
<div id="outline-container-unnumbered-74" class="outline-2">
<h2 id="unnumbered-74">Написание языков и виртуальных машин</h2>
<div class="outline-text-2" id="text-unnumbered-74">
</div><div id="outline-container-unnumbered-75" class="outline-3">
<h3 id="unnumbered-75">Создание компилятора</h3>
</div>
<div id="outline-container-unnumbered-76" class="outline-3">
<h3 id="unnumbered-76">Написание среды времени выполнения</h3>
</div>
</div>
<div id="outline-container-unnumbered-77" class="outline-2">
<h2 id="unnumbered-77">Распределенные системы</h2>
<div class="outline-text-2" id="text-unnumbered-77">
</div><div id="outline-container-unnumbered-78" class="outline-3">
<h3 id="unnumbered-78">Топология сетей</h3>
<div class="outline-text-3" id="text-unnumbered-78">
<ul class="org-ul">
<li><a href="https://habrahabr.ru/post/340626/">https://habrahabr.ru/post/340626/</a>
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-unnumbered-79" class="outline-2">
<h2 id="unnumbered-79">Самообучающиеся системы</h2>
<div class="outline-text-2" id="text-unnumbered-79">
</div><div id="outline-container-unnumbered-80" class="outline-3">
<h3 id="unnumbered-80">Линейная регрессия</h3>
</div>
<div id="outline-container-unnumbered-81" class="outline-3">
<h3 id="unnumbered-81">Кластеризация</h3>
</div>
<div id="outline-container-unnumbered-82" class="outline-3">
<h3 id="unnumbered-82">Деревья решений</h3>
</div>
<div id="outline-container-unnumbered-83" class="outline-3">
<h3 id="unnumbered-83">Нейронные сети и их обучение</h3>
<div class="outline-text-3" id="text-unnumbered-83">
<ul class="org-ul">
<li><a href="https://geektimes.ru/post/84015/">https://geektimes.ru/post/84015/</a>
</li>
<li><a href="https://habrahabr.ru/post/312450/">https://habrahabr.ru/post/312450/</a>
</li>
<li><a href="https://proglib.io/p/neural-nets-guide/">https://proglib.io/p/neural-nets-guide/</a>
</li>
<li><a href="https://proglib.io/p/intro-to-deep-learning/">https://proglib.io/p/intro-to-deep-learning/</a>
</li>
<li><a href="https://habrahabr.ru/company/neurodatalab/blog/336218/">https://habrahabr.ru/company/neurodatalab/blog/336218/</a>
</li>
</ul>
</div>
</div>
<div id="outline-container-unnumbered-84" class="outline-3">
<h3 id="unnumbered-84">Динамическое программирование</h3>
</div>
<div id="outline-container-unnumbered-85" class="outline-3">
<h3 id="unnumbered-85">Генетическое программирование</h3>
</div>
</div>
</div>
</body>
</html>
