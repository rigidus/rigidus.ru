<!DOCTYPE html>
<html>
<head>
<title>Обо мне</title>
<meta  charset="utf-8">
<meta  name="generator" content="Org-mode">
<meta  name="author" content="rigidus">
<link href="/css/style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="content">
<h1 class="title">Обо мне</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#unnumbered-1">Краткая биография</a></li>
<li><a href="#unnumbered-2">Первые шаги</a>
<ul>
<li><a href="#unnumbered-3">Basic</a></li>
<li><a href="#unnumbered-4">JavaScript</a></li>
<li><a href="#unnumbered-5">Delphi</a></li>
<li><a href="#unnumbered-6">Ассемблер x86</a></li>
<li><a href="#unnumbered-7">C/C++</a></li>
<li><a href="#unnumbered-8">Java</a></li>
</ul>
</li>
<li><a href="#unnumbered-9">Веб-программирование</a>
<ul>
<li><a href="#unnumbered-10">Первый коммерческий веб-проект</a></li>
</ul>
</li>
<li><a href="#unnumbered-11">Лисп</a>
<ul>
<li><a href="#unnumbered-12">Побеждая посредственность</a></li>
<li><a href="#unnumbered-13">Лисп в индустрии</a></li>
<li><a href="#unnumbered-14">Столкновение с трудностями</a></li>
<li><a href="#unnumbered-15">Другие приложения и немного C#</a></li>
</ul>
</li>
<li><a href="#unnumbered-16">Эрланг</a>
<ul>
<li><a href="#unnumbered-17">Телекоммуникации</a></li>
<li><a href="#unnumbered-18">Трейдинговые системы</a></li>
</ul>
</li>
<li><a href="#unnumbered-19">ДРАКОН</a></li>
<li><a href="#unnumbered-20">Tcl</a></li>
<li><a href="#unnumbered-21">Электроника</a>
<ul>
<li><a href="#unnumbered-22">Моделирование цифровых схем</a></li>
<li><a href="#unnumbered-23">Робототехника и Forth</a></li>
</ul>
</li>
<li><a href="#unnumbered-24">Реализация других языков</a></li>
</ul>
</div>
</div>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#unnumbered-1">Краткая биография</a></li>
<li><a href="#unnumbered-2">Первые шаги</a>
<ul>
<li><a href="#unnumbered-3">Basic</a></li>
<li><a href="#unnumbered-4">JavaScript</a></li>
<li><a href="#unnumbered-5">Delphi</a></li>
<li><a href="#unnumbered-6">Ассемблер x86</a></li>
<li><a href="#unnumbered-7">C/C++</a></li>
<li><a href="#unnumbered-8">Java</a></li>
</ul>
</li>
<li><a href="#unnumbered-9">Веб-программирование</a>
<ul>
<li><a href="#unnumbered-10">Первый коммерческий веб-проект</a></li>
</ul>
</li>
<li><a href="#unnumbered-11">Лисп</a>
<ul>
<li><a href="#unnumbered-12">Побеждая посредственность</a></li>
<li><a href="#unnumbered-13">Лисп в индустрии</a></li>
<li><a href="#unnumbered-14">Столкновение с трудностями</a></li>
<li><a href="#unnumbered-15">Другие приложения и немного C#</a></li>
</ul>
</li>
<li><a href="#unnumbered-16">Эрланг</a>
<ul>
<li><a href="#unnumbered-17">Телекоммуникации</a></li>
<li><a href="#unnumbered-18">Трейдинговые системы</a></li>
</ul>
</li>
<li><a href="#unnumbered-19">ДРАКОН</a></li>
<li><a href="#unnumbered-20">Tcl</a></li>
<li><a href="#unnumbered-21">Электроника</a>
<ul>
<li><a href="#unnumbered-22">Моделирование цифровых схем</a></li>
<li><a href="#unnumbered-23">Робототехника и Forth</a></li>
</ul>
</li>
<li><a href="#unnumbered-24">Реализация других языков</a></li>
</ul>
</div>
</div>

<div id="outline-container-unnumbered-1" class="outline-2">
<h2 id="unnumbered-1">Краткая биография</h2>
<div class="outline-text-2" id="text-unnumbered-1">
<p>
Меня зовут <code>Глухов Михаил</code>, мой ник <code>rigidus</code> - его проще нагуглить. Я занимаюсь
программированием и исследованиями в смежных областях. В свободное время конструирую
роботов и программирую их.
</p>

<p>
Мне можно в любой момент позвонить по телефону <code>8(911)286-92-90</code> или написать на
<code>i.am.rigidus at gmail dot com</code>
</p>

<p>
Еще я постоянный участник (и иногда - докладчик) семинаров по функциональному
программированию в Санкт-Петербурге <a href="https://plus.google.com/communities/106931692847918217517">fprog-community</a> и <a href="http://piter-united.ru">IT-Global-Meetup</a>
</p>

<p>
Дальше будет моя би(бли)ография. Она почти целиком состоит языков программирования и
книг, которые меня сформировали как программиста.
</p>
</div>
</div>

<div id="outline-container-unnumbered-2" class="outline-2">
<h2 id="unnumbered-2">Первые шаги</h2>
<div class="outline-text-2" id="text-unnumbered-2">
</div><div id="outline-container-unnumbered-3" class="outline-3">
<h3 id="unnumbered-3">Basic</h3>
<div class="outline-text-3" id="text-unnumbered-3">
<p>
Я стал программмировать в классе, если я не ошибаюсь, седьмом, мне было 12-13 лет. С
тех пор я занимаюсь этим практически без перерывов - даже в отпуске и путешествиях со
мной всегда ноутбук и если иногда и случаются дни без кода - это довольно редкое
явление.
</p>

<p>
Первый язык программирования - бейсик для компьютера <code>Sinclair48k</code>. Вот эта машинка:
</p>

<p>
<div class="figure"><img src="/img/ZXSpectrum48k.jpg" alt="nil"/><p></p></div>
</p>

<p>
Этот компьютер обладал оперативной памятью в 48 килобайт, а жесткого диска у него
вообще не было. Программы грузились с кассетного магнитофона, который давал сбои из-за
скачков напряжения в сети (почти постоянно). Поэтому приходилось набирать программы
заново и держать компьютер выключенным. Это было божественно прекрасно, ведь недавно у
меня вообще не было компьютера - я ходил программировать в школьный компьютерный
кружок, а там было слишком много других желающих.
</p>
</div>
</div>

<div id="outline-container-unnumbered-4" class="outline-3">
<h3 id="unnumbered-4">JavaScript</h3>
<div class="outline-text-3" id="text-unnumbered-4">
<p>
Вторым изученным языком программирования был <code>JScript</code> - вариант языка <code>JavaScript</code> для
броузера <code>Internet Explorer</code> версии 3.2. С тех пор, люди, проклинающие <code>Internet
Explorer</code> 8-ой версии, вызывают только улыбку :)
</p>

<p>
Мне было 14 лет и у меня появился компьютер с <code>Windows95</code>. В нем был <code>Internet
Explorer</code>, который выглядел так:
</p>

<p>
<div class="figure"><img src="/img/ie3.png" alt="nil"/><p></p></div>
</p>

<p>
Википедии, кстати, тогда тоже еще не было (чего не скажешь по скриншоту).
</p>

<p>
На <code>JScript</code> были написаны несколько веб-страничек. Сложно сказать, зачем я это делал,
ведь интернет, даже диалапный появился у меня гораздо позже. Наверное, просто хотелось
программировать, а <code>JScript</code> был доступен без установки компилятора, который было
неизвестно где брать и как ставить. Среда программирования была очень бедной -
единственный способ для программы сохранить какое-то данные - это записать их в
cookies.
</p>
</div>
</div>

<div id="outline-container-unnumbered-5" class="outline-3">
<h3 id="unnumbered-5">Delphi</h3>
<div class="outline-text-3" id="text-unnumbered-5">
<p>
Возможность работать с файловой системой из программы (читать и сохранять файлы)
появилась, когда я начал использовать <code>Delphi</code>.
</p>

<p>
Тогда я не мог себе позволить толстое руководство по <code>Delphi</code> "в подлиннике", поэтому
после учебы я ехал в "Дом Книги". Дорога занимала полтора часа, в торговом зале стульев
не было, но можно было почитать час-полтора, стоя у стеллажа. А потом ехать домой -
пробовать полученные знания. Продавщицы стали меня узнавать - так я смог прочитать
почти две тысячи страниц.
</p>

<p>
<div class="figure"><img src="/img/delphi4.jpg" alt="nil"/><p></p></div>
</p>

<p>
На <code>Delphi</code> я написал записную книжку - органайзер, который умел предупреждать меня о
днях рождения знакомых и показывала их на календаре. Еще она хранила их телефоны и
делала еще много разных вещей. Я определенно мог гордиться собой..
</p>
</div>
</div>

<div id="outline-container-unnumbered-6" class="outline-3">
<h3 id="unnumbered-6">Ассемблер x86</h3>
<div class="outline-text-3" id="text-unnumbered-6">
<p>
..пока не повстречался с одним другим программистом (на тот момент встретить другого
програмиста было довольно редким событием). Он был старше меня и работал в конторе,
которая делала устройства для световой рекламы на микроконтроллерах. Он сообщил мне,
что <code>Delphi</code> - это для детей, а настоящие программисты программируют на
<code>Ассемблере</code>. Книжный магазин уже ждал меня&#x2026;
</p>

<p>
<div class="figure"><img src="/img/assembler3books.jpg" alt="nil"/><p></p></div>
</p>

<p>
<code>Ассемблер</code> был куда сложнее, но отступать было некуда. Много позже я понял, что
коллега, скорее всего, имел ввиду куда более простой ассемблер для микроконтроллеров
PIC, но тогда я этого не знал, и, наверно, к счастью: мне пришлось изучить регистры
процессора и режимы адресации, способы написания резидентных программ под <code>MS-DOS</code>,
научиться писать в порты и читать из них, чтобы управлять устройствами без драйверов, и
даже переводить процессор в защищенный режим.
</p>

<p>
На одном из дисков с пиратским софтом мне попались электронные журналы демомейкеров
(интернета пока еще не было). Я смог немного прикоснусться к демо-сцене, реверсингу и
анализу всяческих кряков.
</p>

<p>
<div class="figure"><img src="/img/ezine.png" alt="nil"/><p></p></div>
</p>

<p>
Это было совершенно волшебно. Я писал на <code>ассемблере</code>, изучал защиты программ,
антиотладочные приемы, и даже не думал, что все это может быть интересно кому-то еще,
кроме меня и загадочных авторов книг и электронных журналов.
</p>

<p>
Пожалуй самым высоким достижением на этом пути было написание операционной системы
защищенного режима. Она имела загрузчик, размещенный в <code>Master Boot Record</code> дискеты,
который прямым обращением к контроллеру дисковода умел загружать собственно
операционную систему.
</p>

<p>
После загрузки с дискеты она переходила в защищенный режим, инициализировала <code>GDI</code> и
<code>LDI</code> (глобальную и локальную дескрипторные таблицы, содержащие дескрипторы сегментов
памяти) и таблицу векторов прерываний. С помощью прерываний обрабатывалась мышь,
которую можно было использовать для операций внутри простой оконной подсистемы и
запускать приложения. Приложений было три, все они работали в SVGA-режиме и
представляли собой простые игры: "змейка", "арканоид" и несколько упрощенный "диггер".
</p>

<p>
Все это занимало меня в 16-17 лет, и это было весьма интересно.
</p>
</div>
</div>

<div id="outline-container-unnumbered-7" class="outline-3">
<h3 id="unnumbered-7">C/C++</h3>
<div class="outline-text-3" id="text-unnumbered-7">
<p>
<div class="figure"><img src="/img/cman.jpg" alt="nil"/><p></p></div>
</p>

<p>
После практики программирования на ассемблере, язык <code>Си</code>, который я изучал по
классическому руководству Кернигана и Ритчи, казался простым и понятным. Работа с
указателями, построение сложных структур данных и алгоритмов стали гораздо проще
записываться и быстрее читаться. Было довольно приятно посвятить некоторое время работе
с этим языком.
</p>

<p>
<div class="figure"><img src="/img/cppman.jpg" alt="nil"/><p></p></div>
</p>

<p>
Начав, через некоторое время, изучать <code>С++</code>, я обнаружил, что это совсем другой язык, с
другой идеологией и практикой применения. Я уже был "знаком с ООП" на примере <code>Delphi</code>
(как я тогда думал), и даже ухитрялся реализовывать его в ассемблерных программах, в
качестве развлечения.
</p>

<p>
Было очень интересно, как именно отсутствующие в языке <code>Си</code> вещи, реализованы в <code>C++</code>:
исключения, таблицы виртуальных функций, порядок вызова деструкторов и тому подобные
вещи занимали все мои мысли. <code>С++</code> казался очень мощным и довольно непростым и требовал
все больше времени на его изучение. Я легко мог себе это позволить - я был школьником,
а после - студентом, посвящавшим все свободное время программированию. Тем не менее,
<code>С++</code> оказался таким объемным, что никто не мог его "знать" - можно было узнавать все
больше деталей о том как работает тот или иной механизм языка, но никак не получалось
охватить всё.
</p>
</div>
</div>

<div id="outline-container-unnumbered-8" class="outline-3">
<h3 id="unnumbered-8">Java</h3>
<div class="outline-text-3" id="text-unnumbered-8">
<p>
Мир Java ошеломил легкостью программирования в отсутствии ручного управления памятью и
большого количества неопределенного поведения. Однако сложность, которая в <code>С++</code> была
частью использования языка, переместилась в библиотеки и проектирование
архитектуры. Первое время это, конечно, можно было не замечать.
</p>

<p>
<div class="figure"><img src="/img/javaman.jpg" alt="nil"/><p></p></div>
</p>

<p>
В попытке помочь нескольким <code>open source</code> проектам, оказалось, что самая выматывающая
часть - интеграция различных модулей и подсистем. Библиотеки обещали богатство
функционала из коробки, но за этот функционал приходилось платить утомительными
попытками подружить их между собой. Такой "суровый ынтэрпрайз" отбивал желание
программировать и я стал задумываться о том, что что-то делаю неправильно. Хотелось
делать больше, меньше печатая на клавиатуре - и я заинтересовался динамическими
языками. Тем более, что знакомый гендир попросил сделать сайт, предлагая за эту работу
небольшие деньги.
</p>
</div>
</div>
</div>

<div id="outline-container-unnumbered-9" class="outline-2">
<h2 id="unnumbered-9">Веб-программирование</h2>
<div class="outline-text-2" id="text-unnumbered-9">
</div><div id="outline-container-unnumbered-10" class="outline-3">
<h3 id="unnumbered-10">Первый коммерческий веб-проект</h3>
<div class="outline-text-3" id="text-unnumbered-10">
<p>
..был сделан для фирмы, которая торговала авточехлами и автоинструментом. Чтобы отойти
от Java и изучить что-то новое, я взялся делать его на PHP и JavaScript. Все получилось
неожиданно быстро и было гораздо проще чем я привык. Сайт быстро превратился в
интернет-магазин, пошли заказы, директор был доволен и я сделал три версии этого
магазина.
</p>

<p>
Бум доткомов докатился до нас - внезапно всем стали нужны сайты. Много людей были
готовы дать денег за то, что было весело делать и бесплатно. Просто везение - на пустом
рынке оказаться одним из немногих более или менее опытных специалистов.
</p>

<p>
Сделав еще несколько сайтов в качестве фрилансера, я устроился на работу
веб-программистом в веб-студию. Их код был не очень хорош, так что я просто взял и
переписал их CMS-движок, используя свои наработки, и быстро стал тимлидом. Тогда было
модно так делать - у каждой конторы была своя CMS. Наша разрабатывалась под
"Денвером" - сборкой Apache и MySQL для Windows, а потом заливалась через FTP на
сервера под управлением FreeBSD.
</p>

<p>
Я учился на первом курсе и у меня была неплохая, хорошо оплачиваемая работа. Можно было
бы гордиться собой, но тут я натолкнулся на <a href="http://www.sql.ru/forum/466654-1/s">топик</a>, в котором, предположительно,
<a href="http://lurkmore.to/%D0%9B%D1%83%D0%B3%D0%BE%D0%B2%D1%81%D0%BA%D0%B8%D0%B9">Луговский</a>, в присущей ему, прямо-таки техно-фашисткой манере, сообщал всем, что "C++ -
довольно таки примитивное, но монстровое поделие, полное исторически сложившихся
нелепых нагромождений". Излишне говорить, какие эмоции вызывало такое такое заявление,
однако, в последующем бурном обсуждении он рационально и аргументированно защитил эту
позицию, предлагая вместо <code>С++</code> испробовать <code>Forth</code>, <code>Haskell</code>, <code>Erlang</code> и вершину
языков программирования (по его мнению) - <code>Lisp</code>.
</p>
</div>
</div>
</div>

<div id="outline-container-unnumbered-11" class="outline-2">
<h2 id="unnumbered-11">Лисп</h2>
<div class="outline-text-2" id="text-unnumbered-11">
</div><div id="outline-container-unnumbered-12" class="outline-3">
<h3 id="unnumbered-12">Побеждая посредственность</h3>
<div class="outline-text-3" id="text-unnumbered-12">
<p>
Это задевало. <code>С++</code>, которым я так восхищался, и на который ушло несколько лет изучения,
кажется действительно был таким - я просто не хотел в это верить. И совершал то, что
называется <a href="http://brights-russia.org/article/the-sunk-cost-fallacy.html">ошибкой невозвратных затрат</a>. Луговский рекомендовал прочесть эссе Пола Грэма
<a href="http://www.nestor.minsk.by/sr/2003/07/30710.html">"Побеждая посредственность"</a>, которое окончательно убедило меня, что надо изучить Lisp.
</p>

<p>
Я считал себя "опытным разработчиком" (напрасно), поэтому, чтобы процесс проходил
веселее, решил изучить не только язык программирования, но и новую среду разработки и
даже операционную систему. Так в моем компьютере поселился <code>linux</code>, <code>emacs</code>, и <code>Common
Lisp</code>.
</p>

<p>
Добро пожаловать обратно в школу - весь предыдущий опыт больше не работал - я снова не
мог написать ни одной программы.
</p>

<p>
Впрочем, через пару месяцев, я все-таки начал что-то понимать. То, о чем говорил
Луговский оказалось правдой и выглядело это как-то так:
</p>

<p>
<div class="figure"><img src="/img/some-smart-books.jpg" alt="nil"/><p></p></div>
</p>

<p>
Было интересно попробовать использовать все что я узнал на работе, но этот проект не
был оценен по достоинству - у них уже была написанная мной CMS, которая приносила
неплохой доход, и никто не хотел менять ее на нечто совершенно новое, сырое, и
незнакомое.
</p>

<p>
Вся работа свелась к поддержке моей CMS, найму программистов и написанию модулей время
от времени. Я стал искать карьерные перспективы. С собеседованиями было сложно - я
выглядел слишком молодо для программиста с опытом. Пришлось отрастить бороду, и стереть
из резюме упоминания о ассемблере, <code>С++</code> и возрасте - и тогда дело пошло.
</p>
</div>
</div>

<div id="outline-container-unnumbered-13" class="outline-3">
<h3 id="unnumbered-13">Лисп в индустрии</h3>
<div class="outline-text-3" id="text-unnumbered-13">
<p>
Я стал искать компанию, в которой мог бы применить свежеполученные mad skillz. И
нашел. Это был интернет-магазин, написанный на <code>PHP</code> и довольно плохо справлявшийся с
нагрузкой. Код был плохим. Впереди были новогодние праздники, главная страница
временами открывалась 28 секунд и настроение у боссов было скверным. Предыдущий
кандидат на мое место после первого дня работы тихо исчез, не оставив контактов.
</p>

<p>
Я предложил переписать все на <code>Lisp</code>, а пока, для демонстрации, закешировал самые
тяжелые вещи и главная страница стала открываться за 4 секунды. Быстрее было уже никак,
все равно пришлось бы переписывать все, так почему бы и нет?
</p>

<p>
Руководство магазина идею поддержало с оговоркой - деньги за работу будут заплачены
только в том случае, если 90% текущего функционала будут работать и не тормозить. Но
меня уже было не остановить..
</p>
</div>
</div>

<div id="outline-container-unnumbered-14" class="outline-3">
<h3 id="unnumbered-14">Столкновение с трудностями</h3>
<div class="outline-text-3" id="text-unnumbered-14">
<p>
Оказалось, что я на самом деле не знал Лисп и что он гораздо сложнее чем представлялось
на первый взгляд. В процессе разработки я читал <a href="../resources/sicp.pdf">SICP</a> и <a href="../resources/pcl.pdf">PCL</a> а <a href="../resources/emacs-man.pdf">руководство пользователя
Emacs</a>, вообще стало настольной книгой.
</p>

<p>
<div class="figure"><img src="/img/pcl.jpg" alt="nil"/><p></p></div>
</p>

<p>
Через два месяца система в общих чертах была готова, я получил свои деньги, а
руководство фирмы - результат. Всё работало моментально, и быстрее чем у
конкурентов. Это было неудивительно, если вспомнить, что используемая реализация Лиспа
компилировалась прямо в машинный код, а у <code>PHP</code> четвертой версии не было ничего
подобного. Впрочем, там вообще ничего не было: <code>PHP</code> был <a href="https://habrahabr.ru/post/179399/">создан умирать</a> и хранил все
данные в БД.
</p>

<p>
В новой системе почти все необходимые данные постоянно были загружены в памяти процесса
и отдавались с молниеносной скоростью, независимо от нагрузки.
</p>

<p>
Благодаря REPL можно было видеть и исправлять ошибки пользователей прямо в момент их
возникновения.
</p>

<p>
Я обучил еще одного программиста и мы стали работать над проектом вдвоем. Кажется, я
даже ушел в отпуск - очень необычные ощущения.
</p>
</div>
</div>

<div id="outline-container-unnumbered-15" class="outline-3">
<h3 id="unnumbered-15">Другие приложения и немного C#</h3>
<div class="outline-text-3" id="text-unnumbered-15">
<p>
Я начал думать на лиспе. Разумеется, мне приходилось делать проекты и на других языках
(<code>Java</code>, <code>PHP</code> и где-то в это время я впервые познакомился с <code>C#</code>), но первый прототип
делался (а часто и показывался) на лиспе. Благодаря его гибкости, я успевал вносить
правки в проект прямо во время совещаний - и к их концу часто уже все бывало готово.
</p>

<p>
Я обнаружил, что люди странно реагируют, если им показывать изменения сразу - один
коллега однажды даже возмущенно сказал, что "это не должно быть настолько легко!"
</p>

<p>
Окей, подумал я, и стал брать "недельку на доработки", ведя одновременно несколько
проектов. Это было несложно - корпоративные порталы, интернет-магазины,
баннерно-рекламные сети шли бесконечной чередой. Это было доходно, но хотелось чего-то
большего - я скучал по настоящей работе и самоотверженному изучению чего-то нового, еще
более мощного&#x2026; О чем там говорил Луговский еще?
</p>
</div>
</div>
</div>

<div id="outline-container-unnumbered-16" class="outline-2">
<h2 id="unnumbered-16">Эрланг</h2>
<div class="outline-text-2" id="text-unnumbered-16">
</div><div id="outline-container-unnumbered-17" class="outline-3">
<h3 id="unnumbered-17">Телекоммуникации</h3>
<div class="outline-text-3" id="text-unnumbered-17">
<p>
Возможность поработать на незнакомом языке представилась довольно скоро и я окунулся в
<code>Erlang</code>. С функциональным программированием я был знаком и раньше, но впервые у меня
появилась необходимость делать по-настоящему распределенные системы.  Не все шло
гладко - мне опять не хватало знаний и снова мне помог "Дом Книги" (кажется, ему надо
продать спонсорство этой статьи), где я купил "Распределенные системы"
Таненбаума.
</p>

<p>
<div class="figure"><img src="/img/distr-sys.png" alt="nil"/><p></p></div>
</p>

<p>
Несмотря на то, что она совсем не про Эрланг, это одна из важнейших книг для
разработчика. Для того чтобы понять, чем вдохновлялись авторы языка я начал читать
"Взаимодействующие последовательные процессы" Хоара.
</p>

<p>
<div class="figure"><img src="/img/hoar.jpg" alt="nil"/><p></p></div>
</p>

<p>
Надо признать, это была джуниорская работа эрлангистом, но это ничуть не смущало. Я
верил, что полученные знания станут полезными - так оно и оказалось.
</p>
</div>
</div>

<div id="outline-container-unnumbered-18" class="outline-3">
<h3 id="unnumbered-18">Трейдинговые системы</h3>
<div class="outline-text-3" id="text-unnumbered-18">
<p>
Следующий проект был связан с торговлей на бирже. Там были жесткие требования по
производительности и времени выполнения операций. Я довольно долго писал прототип на
лиспе и он, после некоторого количества расширений, вполне устраивал начальника. Но, на
серьезной нагрузке, скорость оказалась недостаточной. Потоки в используемой реализации
Лиспа были дорогими. Написать быструю многопоточность я бы (тогда) не смог, возникла
идея написать транслятор кода из лиспа в <code>Erlang</code>. Это было необычно, интересно и было
успешно проделано. Сгенерированный код был достаточно хорош, его было легко поддерживать.
</p>

<p>
После разработки транслятора мы переехали на <code>Erlang</code>, наняли еще несколько
программистов и далее в проекте остался только Эрланг и немного <code>С++</code>.
</p>

<p>
Я заинтересовался тем, как работают компиляторы языков программирования, изучал их
исходные тексты, и читал "<a href="../resources/compilers.djvu">Книгу Дракона</a>" - классический учебник по теории построения
компиляторов. Эта книга, после опыта с кодогенерацией, читалась как захватывающий
детектив.
</p>

<p>
<div class="figure"><img src="/img/drakon.png" alt="nil"/><p></p></div>
</p>
</div>
</div>
</div>

<div id="outline-container-unnumbered-19" class="outline-2">
<h2 id="unnumbered-19">ДРАКОН</h2>
<div class="outline-text-2" id="text-unnumbered-19">
<p>
Я решил, что кодогенерацию вполне можно поставить на коммерческие рельсы и написал
<code>DSL</code> (специализированный язык) для разработки сайтов, который генерировал код на <code>PHP</code>
и <code>JavaScript</code> (с использованием <code>JQuery</code>) под появившиеся к этому времени фреймворки:
<code>Symphony</code>, <code>Yii</code> и даже <code>Wordpress</code>.
</p>

<p>
Эту разработку я попытался "продать" веб-студии, в которой работал, но оказалось, что
почти никто не хочет ей пользоваться. Программисты не хотели "учить еще один язык", а
непрограммисты предпочитали рисовать картинки, отдаленно напоминавшие блок-схемы, а
потом отдавать их программистам, чтобы те запрограммировали логику.
</p>

<p>
Блок-схемы - это ведь тоже своего рода "язык программирования", решил я, и нашел
подходящий инструмент для них - <a href="https://ru.wikipedia.org/wiki/%D0%94%D0%A0%D0%90%D0%9A%D0%9E%D0%9D">ДРАКОН</a>. Это визуальный язык для создания блок-схем,
достаточно формализованный, для генерации кода. И достаточно понятный, чтобы за час
научить даже непрограммиста, знакомого только с понятием алгоритма.
</p>

<p>
Вот так выглядит <code>ДРАКОН-схема</code> (картинка с одного из сайтов, я использую <code>git</code>)
</p>

<p>
<div class="figure"><img src="/img/drakon-svn-ds.png" alt="nil"/><p></p></div>
</p>

<p>
Я применил такие схемы для формализации технических заданий, пока работал в фирме,
продающей авиа и железнодорожные билеты. Там было сложное взаимодействие между системам
бронирования и клиентской платформой.
</p>

<p>
Для <code>ДРАКОН-а</code> существует несколько редакторов таких схем. Я выбрал кроссплатформенный,
который называется <a href="http://drakon-editor.sourceforge.net/">DRAKON Editor</a>. И в нем уже есть кодогенерация, для Си~ и C++, Java,
C#, Python, Tcl, JavaScript, Erlang и Lua.
</p>

<p>
Я подумал, что будет не очень сложно добавить кодогенерацию и для моего языка
разработки веб-сайтов. Оказалось, <code>Drakon Editor</code> написан на <code>Tcl</code>, поэтому появляется
возможность изучить еще один язык. Почему бы и нет?
</p>
</div>
</div>

<div id="outline-container-unnumbered-20" class="outline-2">
<h2 id="unnumbered-20">Tcl</h2>
<div class="outline-text-2" id="text-unnumbered-20">
<p>
Так что я приступил к изучению <code>Tcl</code> и <code>Tk</code>. В этом мне помогла замечательная книга:
</p>

<p>
<div class="figure"><img src="/img/tcl-tk.jpg" alt="nil"/><p></p></div>
</p>

<p>
Язык оказался очень интересным и необычным, с поддержкой метапрограммирования, и очень
понравился возможностью еще раз посмотреть на программирование под другим углом. На нем
удобно и быстро прототипировать <code>GUI</code> (кроссплатформенно). Поэтому его широко
используют в пакетах разработки микрочипов. Конечно, было интересно, как именно&#x2026;
</p>

<p>
В общем, я увлекся, и это привело к задачам моделирования цифровых электрических цепей.
</p>
</div>
</div>

<div id="outline-container-unnumbered-21" class="outline-2">
<h2 id="unnumbered-21">Электроника</h2>
<div class="outline-text-2" id="text-unnumbered-21">
</div><div id="outline-container-unnumbered-22" class="outline-3">
<h3 id="unnumbered-22">Моделирование цифровых схем</h3>
<div class="outline-text-3" id="text-unnumbered-22">
<p>
Первоначальное введение в цифровую схемотехнику я нашел в <a href="../resources/sicp.pdf">SICP</a>, где рассказывалось, как
языковыми средствами построить язык предметной области (<code>DSL</code>), на котором можно
написать программу, ведущую себя в точности как модель электронной схемы.
</p>

<p>
<div class="figure"><img src="/img/sicp.jpg" alt="nil"/><p></p></div>
</p>

<p>
Такой подход позволяет использовать технологии программмирования для построения
электроники. Выглядит очень необычно, и захватывающе. Так что я решил перечитать <a href="../resources/sicp.pdf">SICP</a>,
чтобы превратить его из учебного примера в что-то рабочее.
</p>

<p>
<div class="figure"><img src="/img/semiadder.png" alt="nil"/><p></p></div>
</p>

<p>
В процессе этой работы оказалось, что электронные схемы - это не всегда абстракция,
поэтому пришлось взяться сначала за физику, а потом и за схемотехнику всерьез:
</p>

<p>
<div class="figure"><img src="/img/horovits_hill.jpg" alt="nil"/><p></p></div>
</p>

<p>
Книжка оказалась очень емкой, поэтому я возвращаюсь к ней когда возникают
трудности. Постепенно электроника становилась интересным хобби: для проверки всех этих
идей пришлось научиться разводить и травить платы, программировать микроконтроллеры - и
тут очень удачно пригодился <code>ассемблер</code> и <code>Си</code>. Я начал с изготовления самодельных
устройств для "умного дома", но хотелось чего-то большего.
</p>
</div>
</div>

<div id="outline-container-unnumbered-23" class="outline-3">
<h3 id="unnumbered-23">Робототехника и Forth</h3>
<div class="outline-text-3" id="text-unnumbered-23">
<p>
Я устроился в фирму, где смог найти применение этим навыкам. Однажды нам передали в
разработку устройство, прошивка которого была по-настоящему интересной. При скромных
аппаратных требованиях устройство удивляло своей могучей функциональностью. Требовалось
извлечь из него программу, разобраться в ее работе, и добавить возможность
беспроводного управления.
</p>

<p>
После извлечения прошивки, оказалось, что устройство не запрограммировано на <code>Си</code>, как
большинство других. Вместо этого в нем сидит виртуальная машина, написанная на
<code>ассемблере</code> и эта виртуальная машина содержит в себе реализацию неизвестного мне ранее
языка программирования <code>Forth</code>. Десять лет назад об этом языке тоже упоминал Луговский,
рекомендуя его для изучения.
</p>

<p>
<code>Forth</code> произвел впечатление своей компактностью и мощностью, поэтому я стал изучать
<code>Forth</code> в свободное время. По нему не очень много руководств, но некоторые из них
весьма хороши.
</p>

<p>
<div class="figure"><img src="/img/thinking-forth.jpg" alt="nil"/><p></p></div>
</p>

<p>
Виртуальная машина <code>Forth</code> и ее, хм, "байткод" обладает очень важным свойством - по
байткоду может быть однозначно восстановлен исходный текст программы. Поэтому после
того, как архитекура <code>ForthVM</code> стала понятна (и я научился программировать на этом
языке) я смог провести полный реверс-инжиниринг прошивки и даже воссоздать его работу
на более современной элементной базе - пришлось портировать только низкоуровневую
<code>ForthVM</code>.
</p>

<p>
Через полгода изучения, опираясь на несколько прочитанных руководств, я написал свою
реализацию этого языка (она опубликована на этом сайте). Эта реализация может служить
своего рода "портабельным слоем" для других языков, которые можно реализовать поверх
нее, так же, как, например, <code>Closure</code> реализована поверх <code>JVM</code>.
</p>

<p>
Я использую эту реализацию не только в исследовательских целях - на ней сделано
несколько устройств "умный дом" - сигнализация, управление светом, электронные
замки. При этом уровень виртуальной машины полностью портируемый - можно разрабатывать
программы для устройств, не нуждаясь в стенде до стадии окончательных испытаний.
</p>
</div>
</div>
</div>

<div id="outline-container-unnumbered-24" class="outline-2">
<h2 id="unnumbered-24">Реализация других языков</h2>
<div class="outline-text-2" id="text-unnumbered-24">
<p>
Чтобы изучить создание языков программирования "на практике", я взялся реализовывать
<code>Lisp</code> (как наиболее "богатый возможностями" из известных мне языков) на <code>Forth</code> (для
лучшей переносимости и просто потому что это хороший и мощный язык). Эта работа еще не
закончена. В ходе этого проекта будет реализован диалект, с несколькими отличиями от
известных мне реализаций, таких как <code>Common Lisp</code> и <code>Scheme</code>.
</p>

<p>
Я занимаюсь этим в свободное время, рассчитывая, что подобная практика даст полезные
навыки.
</p>

<p>
Кроме того, думаю, пора уже браться за <code>Haskell</code> или <code>Ocaml</code>.
</p>
</div>
</div>
</div>
</body>
</html>
